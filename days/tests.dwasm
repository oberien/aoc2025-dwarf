#var tests {
    call test_string_from_number
    constu 1
}

#proc test_string_from_number {
    constu 1
    call string_from_number
    #create $String { len: 0, data: [0; 254] }
    #set $String.len = 1
    #set $String.data[0] = 0x31
    #if (dup) != (pick 2) {
        constu 8907431894709842397
        call panic
    }
    drop
    drop

    constu 421337
    call string_from_number
    #create $String { len: 0, data: [0; 254] }
    #set $String.len = 6
    #set $String.data[0] = 0x34
    #set $String.data[1] = 0x32
    #set $String.data[2] = 0x31
    #set $String.data[3] = 0x33
    #set $String.data[4] = 0x33
    #set $String.data[5] = 0x37
    #if (dup) != (pick 2) {
        constu 4896515384654835
        call panic
    }
    drop
    drop
}